# 🚀 快速开始 - 部署版

## 🎯 选择你的部署方式

### 1️⃣ 最快速（1分钟） - 内网穿透

**适合**：立即让别人访问，临时演示

```bash
# 安装 ngrok
brew install ngrok

# 启动应用
python3 app.py

# 新开终端，启动 ngrok
ngrok http 5001
```

复制显示的 URL 分享给别人！

**示例**：`https://xxxx.ngrok-free.app`

---

### 2️⃣ 简单（10分钟） - 云平台部署

**适合**：快速上线，自动部署

#### Railway（推荐）

1. **推送到 GitHub**
   ```bash
   git init
   git add .
   git commit -m "Deploy"
   git push origin main
   ```

2. **部署到 Railway**
   - 访问 https://railway.app/
   - New Project → Deploy from GitHub
   - 选择仓库
   - 等待部署完成

3. **获取URL**
   - Settings → Generate Domain
   - 分享URL！

#### Render（免费）

类似步骤，访问 https://render.com/

---

### 3️⃣ 专业（30分钟） - 云服务器

**适合**：长期使用，稳定运行

#### 准备
- 购买云服务器（阿里云/腾讯云/AWS）
- 获得服务器IP和SSH密码

#### 快速部署

**1. 上传代码**
```bash
scp -r . root@你的服务器IP:/root/resume_system/
```

**2. SSH连接**
```bash
ssh root@你的服务器IP
```

**3. 运行部署脚本**
```bash
cd /root/resume_system
bash 快速部署.sh
```

脚本会自动：
- ✅ 安装Python和依赖
- ✅ 配置OCR环境
- ✅ 配置防火墙
- ✅ 设置开机自启

**4. 访问**
```
http://你的服务器IP:5001
```

#### 配置域名（可选）

**1. 安装 Nginx**
```bash
apt install nginx -y
```

**2. 复制配置**
```bash
cp nginx.conf /etc/nginx/sites-available/resume
ln -s /etc/nginx/sites-available/resume /etc/nginx/sites-enabled/
# 修改配置中的域名
nano /etc/nginx/sites-available/resume
```

**3. 配置 HTTPS**
```bash
apt install certbot python3-certbot-nginx -y
certbot --nginx -d 你的域名.com
```

**4. 重启 Nginx**
```bash
systemctl reload nginx
```

现在访问：`https://你的域名.com`

---

## 🔧 配置文件说明

| 文件 | 用途 |
|------|------|
| `Procfile` | Railway/Heroku 部署配置 |
| `runtime.txt` | 指定 Python 版本 |
| `nginx.conf` | Nginx 反向代理配置 |
| `systemd_service.txt` | 系统服务配置 |
| `快速部署.sh` | 自动部署脚本 |
| `.gitignore` | Git 忽略文件 |

---

## 📊 部署方案对比

| 方案 | 时间 | 费用 | 稳定性 | 难度 |
|------|------|------|--------|------|
| **内网穿透** | 1分钟 | 免费 | ⭐⭐ | ⭐ |
| **云平台** | 10分钟 | 免费/$5/月 | ⭐⭐⭐⭐ | ⭐⭐ |
| **云服务器** | 30分钟 | $5-10/月 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ |

---

## 🛡️ 安全建议

### 添加密码保护

安装：
```bash
pip3 install Flask-HTTPAuth
```

在 `app.py` 添加：
```python
from flask_httpauth import HTTPBasicAuth
auth = HTTPBasicAuth()

users = {"admin": "your_password"}

@auth.verify_password
def verify_password(username, password):
    return users.get(username) == password

# 在路由添加
@app.route('/')
@auth.login_required
def index():
    return render_template('index.html')
```

---

## 📞 常见问题

### Q: 如何更新代码？

**云平台**：
```bash
git push  # 自动部署
```

**云服务器**：
```bash
cd /root/resume_system
git pull
systemctl restart resume-system
```

### Q: 如何查看日志？

**系统服务**：
```bash
journalctl -u resume-system -f
```

**直接运行**：
```bash
tail -f server.log
```

### Q: 服务器崩溃了怎么办？

**自动重启（systemd）**：
```bash
systemctl status resume-system
systemctl restart resume-system
```

---

## 🎉 部署完成！

选择一个方案，按步骤操作即可！

**推荐顺序**：
1. 先用内网穿透测试（1分钟）
2. 满意后用云平台（10分钟）
3. 长期使用选云服务器（30分钟）

需要帮助？查看详细的《部署指南.md》！

